### http 协议

- 无连接：http1.1才默认是长连接，http1.1以前是，一次请求和响应之后，不会断开连接。

  ```JS
  connection: keep-alive
  ```

- 无状态：服务端会认为每次发的请求都是一个新的请求，所以，它会认为上一次会话和这一次会话之间没有联系

  ```js
  状态：指的是状态信息。服务端所维护的和客户端之间的交互信息。HTTP 本身是不存储任务状态信息的，所以说HTTP是无状态的。
  ```

### cookie 和 session 就是来维护状态信息的

用户第一次访问服务器的时候，响应报头通常会出现一个Set-Cookie，在本地设置一个cookie，用户再次访问服务器时，http会附带这个cookie过去，cookie中存有 sessionId 这样的信息来到服务器这边确认是否属于同一次会话。

- Cookie 

  - {key:value}的形式
  - 同源策略（解决办法是什么）
  - Cookie 弥补了浏览器无状态的不足

- Session（在session出现以前，都是使用cookie）

  - 与cookie不同的是，它**使用服务端保存状态**

  - 原理机制：

    ```js
    客户端发起请求时，服务先检查请求里有没有一个session标识 - sessionId
    有：服会去检索，如果检索到了，说明服务器已经创建过了。如果没有检索到，就会新建一个
    没有：会创一个session, 和一个sessionId。
    
    然后服务端会在响应里，把sessionId给客户端，保存方式使用cookie
    ```

  - session一般在内存中存放，内存空间本身大小就有一定的局限性，因此session需要采用一种过期删除的机制来确保session信息不会一直累积，来防止内存溢出的发生。

    