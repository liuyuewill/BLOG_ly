<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />

  <title>Hello React!</title>

  <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>
</head>

<body>
  <div id="root"></div>

  <script type="text/babel">
    

    function Display(props) {
      let dom
      if (props.fitstVal > 3){
        dom = <p>大于3</p>
      } else {
        dom = <p>小于等于3</p>
      }
      return dom
    }

    class InputSth extends React.Component{
      constructor(props){
        super(props)
        this.changeInputVal = this.changeInputVal.bind(this)
      }
      changeInputVal (e) {
        this.props.onChange(e)
      }
      render () {
        let type = this.props.type
        return (
          <div>
            {type}
            <input value={this.props.value} onChange={this.changeInputVal} />
          </div>
        )
      }
    }

    class Calcular extends React.Component{
      constructor(props) {
        super(props)
        this.state = {type: 'A', valA: 1, valB: 2}
        this.changeTypeA = this.changeTypeA.bind(this)
        this.changeTypeB = this.changeTypeB.bind(this)
      }
      changeTypeA(e){
        console.log('e', e.target, e.target.value);
        this.setState((state) => ({
          type: 'A',
          valA: +e.target.value,
          valB: (+(e.target.value))*2
        }))
        console.log('this.state', this.state);
      }
      changeTypeB(e){
        this.setState((state) => ({
          type: 'B',
          valB: e.target.value,
          valA: (+(e.target.value))/2
        }))
      }

      render(){
        let inputType = this.state.inputType

        return (
          <div>
            <InputSth type={inputType} value={this.state.valA} onChange={this.changeTypeA} />
            <InputSth type={inputType} value={this.state.valB} onChange={this.changeTypeB} />
            <Display fitstVal={this.state.valA}/>
          </div>
        )
      }
    }

    ReactDOM.render(
      <Calcular />,
      document.getElementById('root')
    );




  </script>
</body>

</html>